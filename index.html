<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TriThuc Hub - Khám phá Tri thức, Mở lối Tương lai</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="header">
        <div class="container">
            <div class="logo">
                <span id="home-link"><i class="fas fa-graduation-cap"></i> TriThuc Hub</span>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#" class="nav-link active-nav" data-section="homepage">Trang chủ</a></li>
                    <li><a href="#" class="nav-link" data-section="all-courses">Khóa học</a></li>
                    <li><a href="#" class="nav-link" data-section="learning-plan">Kế hoạch học tập</a></li>
                    <!-- Quản lý Khóa học chuyển vào đây, chỉ hiển thị cho Giảng viên -->
                    <li class="nav-manage-courses-item hidden">
                        <a href="#" class="nav-link" id="nav-link-manage-courses" data-section="user-profile" title="Quản lý các khóa học của bạn">
                            <i class="fas fa-edit"></i> Quản lý Khóa học
                        </a>
                    </li>
                </ul>
            </nav>
            
            <!-- Khu vực cho nút Tạo mới và thông tin người dùng -->
            <div class="header-right-actions">
                <!-- ĐÃ XÓA: instructor-create-button-container -->
                <div class="auth-user-area">
                    <div class="auth-buttons">
                        <button class="btn btn-link login-btn">Đăng nhập</button>
                        <button class="btn btn-primary signup-btn">Đăng ký</button>
                    </div>
                    <div class="user-info hidden">
                        <div class="user-avatar-placeholder" id="user-avatar-placeholder"></div>
                        <span id="user-display-name"></span>
                        <button class="btn btn-danger logout-btn">Đăng xuất</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div id="main-content-area">

        <section id="homepage" class="content-section">
             <section class="hero-section-lw">
                <div class="container">
                    <div class="hero-content-lw">
                        <h1>Nâng tầm kiến thức, mở lối tương lai</h1>
                        <p>Học mọi lúc, mọi nơi với các khóa học chất lượng cao từ chuyên gia.</p>
                         <div class="cta-buttons-hero">
                             <button class="btn btn-primary cta-trial">Khám phá khóa học</button>
                         </div>
                    </div>
                </div>
            </section>
            <main class="main-content container">
                 <section class="search-filter-area">
                     <div class="section-header">
                          <h2>Khám phá các khóa học</h2>
                           <div class="search-bar-lw">
                                <input type="text" id="course-search-input" placeholder="Tìm kiếm khóa học...">
                                <button id="course-search-button"><i class="fas fa-search"></i></button>
                           </div>
                     </div>
                     <div id="featured-course-list" class="course-list-grid">
                     </div>
                 </section>
                 <section class="cta-section-lw">
                    <div class="cta-content-lw">
                        <h2>Bạn là chuyên gia? Chia sẻ kiến thức của mình.</h2>
                        <p>Trở thành giảng viên và tiếp cận hàng ngàn học viên tiềm năng.</p>
                    </div>
                    <div class="cta-buttons-lw">
                         <button class="btn btn-secondary cta-create">Trở thành Giảng viên</button>
                    </div>
                </section>
            </main>
        </section>

        <section id="all-courses-section" class="content-section hidden">
             <div class="container">
                 <div class="section-header">
                     <h2>Tất cả Khóa học</h2>
                 </div>
                  <div id="all-course-list" class="course-list-grid">
                  </div>
             </div>
        </section>

        <section id="learning-plan-section" class="content-section hidden">
             <div class="container">
                 <div class="section-header">
                     <h2>Kế hoạch học tập của bạn</h2>
                 </div>
                 <div class="plan-content">
                     <h3>Quản lý hành trình học tập</h3>
                     <p>Tại đây, bạn có thể theo dõi tiến độ các khóa học đã đăng ký, đặt mục tiêu cá nhân, và xem các gợi ý học tập phù hợp.</p>
                     <p><i class="fas fa-chart-line"></i> Xem tiến độ học tập</p>
                     <p><i class="fas fa-tasks"></i> Quản lý mục tiêu</p>
                      <p><i class="fas fa-bookmark"></i> Các khóa học đã lưu</p>
                 </div>
             </div>
        </section>

         <section id="user-profile-section" class="content-section hidden">
             <div class="container">
                 <div class="section-header">
                     <h2>Thông tin Cá nhân & Quản lý</h2>
                 </div>
                  <div class="profile-content">
                       <div class="profile-info">
                            <p><i class="fas fa-user"></i> <strong>Họ và tên:</strong> <span id="profile-display-name"></span></p>
                            <p><i class="fas fa-envelope"></i> <strong>Email:</strong> <span id="profile-display-email"></span></p>
                            <p><i class="fas fa-briefcase"></i> <strong>Vai trò:</strong> <span id="profile-display-role"></span></p>
                       </div>
                       <div id="profile-actions" class="profile-actions">
                           <!-- Nút "Tạo Khóa học mới từ Profile" sẽ được thêm vào đây bằng JS cho Giảng viên -->
                       </div>
                       <div id="profile-courses-section">
                           <!-- Danh sách khóa học của người dùng sẽ được hiển thị ở đây -->
                       </div>
                  </div>
             </div>
        </section>

        <section id="create-course-section" class="content-section hidden">
            <div class="container">
                 <div class="section-header">
                    <h2>Tạo khóa học mới</h2>
                 </div>
                <form id="create-course-form" class="lw-form">
                    <div class="form-group">
                        <label for="course-title"><i class="fas fa-book"></i> Tiêu đề khóa học:</label>
                        <input type="text" id="course-title" required placeholder="Nhập tiêu đề khóa học...">
                    </div>
                    <div class="form-group">
                        <label for="course-description"><i class="fas fa-align-left"></i> Mô tả khóa học:</label>
                        <textarea id="course-description" rows="8" required placeholder="Mô tả chi tiết về khóa học của bạn..."></textarea>
                    </div>
                     <div class="form-group">
                        <label for="course-price"><i class="fas fa-dollar-sign"></i> Giá khóa học:</label>
                        <input type="text" id="course-price" required placeholder="Ví dụ: Miễn phí hoặc 500.000 VNĐ">
                    </div>
                     <div class="form-group">
                        <label for="course-image-url"><i class="fas fa-image"></i> Ảnh bìa khóa học (URL):</label>
                        <input type="text" id="course-image-url" placeholder="Dán URL ảnh bìa...">
                        <span class="file-info">Hoặc sử dụng placeholder nếu để trống.</span>
                    </div>
                    <button type="submit" class="btn btn-success submit-course-btn">Tạo khóa học</button>
                </form>
            </div>
        </section>

        <section id="course-detail-section" class="content-section hidden">
            <div class="container">
                <button id="back-to-list-or-home" class="btn btn-outline"><i class="fas fa-arrow-left"></i> Trở về</button>
                
                <div class="course-detail-wrapper">
                    <!-- Instructor Aside (Conditional Display) -->
                    <aside id="instructor-course-aside" class="instructor-course-aside hidden">
                        <h3>Quản lý Khóa học</h3>
                        <ul id="instructor-aside-actions">
                            <li><a href="#" data-action="manage-lessons"><i class="fas fa-list-alt"></i> Quản lý Bài giảng</a></li>
                            <li><a href="#" data-action="add-content"><i class="fas fa-plus-circle"></i> Thêm Chương/Bài mới</a></li>
                            <li><a href="#" data-action="edit-course-info"><i class="fas fa-edit"></i> Sửa Thông tin Khóa học</a></li>
                            <li><a href="#" data-action="delete-course"><i class="fas fa-trash-alt"></i> Xóa Khóa học này</a></li>
                        </ul>
                    </aside>

                    <!-- Main Course Content Area -->
                    <div class="course-detail-main-content">
                        <div class="detail-header-lw">
                            <h2 id="detail-course-title">Tên Khóa học Chi tiết</h2>
                            <p id="detail-course-instructor" class="instructor">Giảng viên: Tên Giảng viên</p>
                            <p id="detail-course-price" class="price">Giá: </p>
                            <!-- Student actions here -->
                            <div id="student-course-actions" class="student-course-actions">
                                <!-- Buttons like "Đăng ký học" or "Vào học" will go here via JS -->
                            </div>
                        </div>

                        <div class="detail-content-lw">
                            <div class="course-section-block">
                                <h3><i class="fas fa-info-circle"></i> Mô tả khóa học</h3>
                                <p id="detail-course-description">Mô tả chi tiết về khóa học sẽ được hiển thị tại đây...</p>
                            </div>

                            <!-- Course Video Player / Lesson Content Display -->
                            <div class="course-section-block">
                                <h3><i class="fas fa-tv"></i> Nội dung Bài giảng Hiện tại</h3>
                                <div class="course-video-player-lw">
                                     <div class="placeholder-video-lw"><i class="fas fa-play-circle"></i> <p>Chọn một bài giảng để xem nội dung.</p></div>
                                </div>
                            </div>

                            <!-- Course Structure (Chapters/Lessons) and Instructor Tools -->
                            <div id="course-content-display-area" class="course-section-block">
                                <h3><i class="fas fa-book-open"></i> Cấu trúc Khóa học</h3>
                                <div id="course-structure-render-area">
                                    <p>Nội dung bài giảng (các chương, bài học) sẽ được hiển thị tại đây.</p>
                                </div>
                                <!-- Instructor tools for adding chapters/lessons -->
                                <div id="instructor-lesson-management-tools" class="hidden">
                                    <button class="btn btn-success btn-add-chapter"><i class="fas fa-plus"></i> Thêm Chương mới</button>
                                </div>
                            </div>

                            <div class="course-section-block">
                                <h3><i class="fas fa-file-alt"></i> Tài liệu chung của Khóa học</h3>
                                <ul id="detail-course-files">
                                    <!-- Files will be populated by JS -->
                                </ul>
                            </div>
                        </div>
                    </div> <!-- End .course-detail-main-content -->
                </div> <!-- End .course-detail-wrapper -->
            </div>
        </section>

    </div> <!-- End Main Content Area -->

    <div id="login-modal" class="modal">
        <div class="modal-content lw-modal">
            <span class="close-button" data-modal="login-modal">×</span>
            <h2>Đăng nhập</h2>
            <form id="login-form" class="lw-form">
                <div class="form-group">
                    <label for="login-email"><i class="fas fa-envelope"></i> Email:</label>
                    <input type="email" id="login-email" required placeholder="Nhập email...">
                </div>
                <div class="form-group">
                    <label for="login-password"><i class="fas fa-lock"></i> Mật khẩu:</label>
                    <input type="password" id="login-password" required placeholder="Nhập mật khẩu...">
                </div>
                <div class="form-group">
                    <label><i class="fas fa-briefcase"></i> Bạn là:</label>
                    <div class="role-selection">
                         <label><input type="radio" name="login-role" value="Học viên" checked> Học viên</label>
                         <label><input type="radio" name="login-role" value="Giảng viên"> Giảng viên</label>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Đăng nhập</button>
            </form>
            <p class="switch-auth">Chưa có tài khoản? <a href="#" id="show-signup-link">Đăng ký ngay</a></p>
        </div>
    </div>

    <div id="signup-modal" class="modal">
        <div class="modal-content lw-modal">
            <span class="close-button" data-modal="signup-modal">×</span>
            <h2>Đăng ký</h2>
            <form id="signup-form" class="lw-form">
                 <div class="form-group">
                    <label for="signup-name"><i class="fas fa-user"></i> Họ và tên:</label>
                    <input type="text" id="signup-name" required placeholder="Nhập họ và tên...">
                </div>
                <div class="form-group">
                    <label for="signup-email"><i class="fas fa-envelope"></i> Email:</label>
                    <input type="email" id="signup-email" required placeholder="Nhập email...">
                </div>
                <div class="form-group">
                    <label for="signup-password"><i class="fas fa-lock"></i> Mật khẩu:</label>
                    <input type="password" id="signup-password" required placeholder="Tạo mật khẩu...">
                </div>
                 <div class="form-group">
                    <label for="signup-confirm-password"><i class="fas fa-lock"></i> Xác nhận mật khẩu:</label>
                    <input type="password" id="signup-confirm-password" required placeholder="Nhập lại mật khẩu...">
                </div>
                 <div class="form-group">
                    <label><i class="fas fa-briefcase"></i> Đăng ký với vai trò:</label>
                    <div class="role-selection">
                         <label><input type="radio" name="signup-role" value="Học viên" checked> Học viên</label>
                         <label><input type="radio" name="signup-role" value="Giảng viên"> Giảng viên</label>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Đăng ký</button>
            </form>
             <p class="switch-auth">Đã có tài khoản? <a href="#" id="show-login-link">Đăng nhập</a></p>
        </div>
    </div>
    <!-- Chapter Form Modal -->
    <div id="chapter-form-modal" class="modal">
        <div class="modal-content lw-modal">
            <span class="close-button" data-modal="chapter-form-modal">×</span>
            <h2>Thêm/Sửa Chương</h2>
            <form id="chapter-form" class="lw-form">
                <input type="hidden" id="chapter-form-course-id">
                <input type="hidden" id="chapter-form-chapter-id"> <!-- For editing -->
                <div class="form-group">
                    <label for="chapter-title"><i class="fas fa-heading"></i> Tên Chương:</label>
                    <input type="text" id="chapter-title" required placeholder="Nhập tên chương...">
                </div>
                <div class="form-group">
                    <label for="chapter-description"><i class="fas fa-file-alt"></i> Mô tả Chương (tùy chọn):</label>
                    <textarea id="chapter-description" rows="5" placeholder="Mô tả chi tiết về nội dung của chương..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Thêm Chương</button>
            </form>
        </div>
    </div>

    <!-- Lesson Form Modal -->
       <!-- Lesson Form Modal -->
    <div id="lesson-form-modal" class="modal">
        <div class="modal-content lw-modal large-modal"> <!-- Added large-modal for more space -->
            <span class="close-button" data-modal="lesson-form-modal">×</span>
            <h2>Thêm/Sửa Bài giảng</h2>
            <form id="lesson-form" class="lw-form">
                <input type="hidden" id="lesson-form-course-id">
                <input type="hidden" id="lesson-form-chapter-id">
                <input type="hidden" id="lesson-form-lesson-id"> <!-- For editing -->

                <div class="form-group">
                    <label for="lesson-title"><i class="fas fa-book-reader"></i> Tên Bài giảng:</label>
                    <input type="text" id="lesson-title" required placeholder="Nhập tên bài giảng...">
                </div>

                <div class="form-group">
                    <label for="lesson-description"><i class="fas fa-align-left"></i> Mô tả/Nội dung bài giảng:</label>
                    <textarea id="lesson-description" rows="5" placeholder="Nhập nội dung chi tiết hoặc mô tả cho bài giảng..."></textarea>
                </div>

                <!-- THÊM MỚI: Input cho URL Video -->
                <div class="form-group">
                    <label for="lesson-content-video-url"><i class="fas fa-link"></i> URL Video bài giảng (nếu có):</label>
                    <input type="url" id="lesson-content-video-url" placeholder="Dán URL video tại đây (VD: YouTube, Vimeo, .mp4)...">
                    <small class="file-upload-info">Nếu điền URL, nó sẽ được ưu tiên hơn file upload bên dưới.</small>
                </div>

                <div class="form-group">
                    <label for="lesson-content-media-file"><i class="fas fa-photo-video"></i> Hoặc Upload Video/Ảnh bài giảng:</label>
                    <input type="file" id="lesson-content-media-file" accept="video/*, image/*">
                    <small class="file-upload-info">Chức năng upload chỉ là giả lập, file không được tải lên server.</small>
                    <div id="lesson-media-file-name-display" class="file-name-display"></div>
                </div>

                <div class="form-group">
                    <label for="lesson-content-attachment-file"><i class="fas fa-paperclip"></i> Upload File đính kèm (nếu có):</label>
                    <input type="file" id="lesson-content-attachment-file" accept="*/*"> <!-- accept="*/*" cho phép mọi loại file -->
                    <small class="file-upload-info">Chức năng upload chỉ là giả lập, file không được tải lên server.</small>
                    <div id="lesson-attachment-file-name-display" class="file-name-display"></div>
                </div>

                <button type="submit" class="btn btn-primary btn-block">Lưu Bài giảng</button>
            </form>
        </div>
    </div> 

    <footer class="footer-lw">
        <div class="container">
            <div class="footer-grid-lw">
                <div class="footer-col-lw footer-brand">
                     <div class="logo">
                        <span><i class="fas fa-graduation-cap"></i> TriThuc Hub</span>
                    </div>
                    <p>Nền tảng học trực tuyến hàng đầu.</p>
                </div>
                <div class="footer-col-lw">
                    <h4>Về chúng tôi</h4>
                    <ul>
                        <li><a href="#">Giới thiệu</a></li>
                        <li><a href="#">Tuyển dụng</a></li>
                        <li><a href="#">Liên hệ</a></li>
                    </ul>
                </div>
                 <div class="footer-col-lw">
                    <h4>Hỗ trợ</h4>
                    <ul>
                        <li><a href="#">Trung tâm trợ giúp</a></li>
                        <li><a href="#">Chính sách bảo mật</a></li>
                        <li><a href="#">Điều khoản dịch vụ</a></li>
                    </ul>
                </div>
                 <div class="footer-col-lw">
                    <h4>Cộng đồng</h4>
                    <ul>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Diễn đàn</a></li>
                        <li><a href="#">Sự kiện</a></li>
                    </ul>
                </div>
            </div>
         </div>
         <div class="footer-bottom-lw">
            <div class="container">
                 <p>© 2025 TriThuc Hub. All rights reserved.</p>
            </div>
         </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>